// NL segment
@segment country_nl {
    lower(country) == nl
}

// feature check with env and segment
FF-feature-y {
    @env prod {
        segment(country_nl) -> false
    }
    segment(country_nl) -> true

    // else default to false
    false
}

// reverse array
@test FF-admin-panel(roles=["viewer", "editor", "admin"]) == true
FF-admin-panel {
    // roles is an array: ["viewer", "editor", "admin"]
    "admin" in roles -> true
    false
}


/**
  flag dependency feature check
  */
FF-dep-root-new-checkout -> true

// This flag only evaluates if FF-dep-root-new-checkout is true
@requires FF-dep-root-new-checkout
FF-checkout-upsell {
    userId in (20, 21, 22) -> true
    false
}